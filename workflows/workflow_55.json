{"last_node_id":116,"last_link_id":216,"nodes":[{"id":58,"type":"DiffusersControlnetUnit","pos":[458,381],"size":{"0":330,"1":126},"flags":{},"order":13,"mode":0,"inputs":[{"name":"controlnet","type":"DIFFUSERS_CONTROLNET","link":101},{"name":"image","type":"IMAGE","link":105}],"outputs":[{"name":"controlnet unit","type":"CONTROLNET_UNIT","links":[183],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersControlnetUnit"},"widgets_values":[1,0,1],"shape":1},{"id":101,"type":"GrowMask","pos":[993,1164],"size":{"0":315,"1":82},"flags":{},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":200}],"outputs":[{"name":"MASK","type":"MASK","links":[191],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[3,false],"shape":1},{"id":103,"type":"InvertMask","pos":[716,1392],"size":{"0":210,"1":26},"flags":{},"order":19,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":198}],"outputs":[{"name":"MASK","type":"MASK","links":[200],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"shape":1},{"id":95,"type":"PreviewImage","pos":[1192,1737],"size":{"0":210,"1":246},"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":189}],"properties":{"Node name for S&R":"PreviewImage"},"shape":1},{"id":108,"type":"GrowMask","pos":[830,1511],"size":{"0":315,"1":82},"flags":{},"order":17,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":209}],"outputs":[{"name":"MASK","type":"MASK","links":[210,211],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[13,true],"shape":1},{"id":106,"type":"preview_mask","pos":[1189,1441],"size":{"0":210,"1":246},"flags":{},"order":21,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":210}],"properties":{"Node name for S&R":"preview_mask"},"shape":1},{"id":86,"type":"preview_mask","pos":[1573,687],"size":{"0":210,"1":246},"flags":{},"order":18,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":195}],"properties":{"Node name for S&R":"preview_mask"},"shape":1},{"id":98,"type":"ImageCompositeFromMaskBatch+","pos":[1598,547],"size":{"0":285.6000061035156,"1":66},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image_from","type":"IMAGE","link":186},{"name":"image_to","type":"IMAGE","link":187},{"name":"mask","type":"MASK","link":191}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[189,203,213],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeFromMaskBatch+"},"shape":1},{"id":109,"type":"PreviewImage","pos":[1800,680],"size":{"0":210,"1":246},"flags":{},"order":26,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":213}],"properties":{"Node name for S&R":"PreviewImage"},"shape":1},{"id":43,"type":"DiffusersTextureInversionLoader","pos":[-205,241],"size":{"0":533.707763671875,"1":71.48336029052734},"flags":{},"order":8,"mode":0,"inputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","link":63}],"outputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","links":[58,171,179],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersTextureInversionLoader"},"widgets_values":["bad-picture-chill-75v.pt"],"shape":1},{"id":57,"type":"DiffusersControlnetLoader","pos":[-241,416],"size":{"0":566.7774047851562,"1":75.71739959716797},"flags":{},"order":0,"mode":0,"outputs":[{"name":"controlnet","type":"DIFFUSERS_CONTROLNET","links":[101],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersControlnetLoader"},"widgets_values":["control_v11p_sd15_openpose_fp16.safetensors"],"shape":1},{"id":2,"type":"DiffusersPipeline","pos":[-185,625],"size":{"0":540,"1":106},"flags":{"collapsed":false},"order":1,"mode":0,"outputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","links":[63],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersPipeline"},"widgets_values":["picxReal_10.safetensors","-","-"],"shape":1},{"id":83,"type":"segformer_b2_clothes","pos":[-157,842],"size":{"0":315,"1":366},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":157}],"outputs":[{"name":"mask_image","type":"IMAGE","links":[194],"shape":3,"slot_index":0},{"name":"open","type":"BOOLEAN","links":null,"shape":3}],"properties":{"Node name for S&R":"segformer_b2_clothes"},"widgets_values":[false,false,false,true,true,true,true,false,false,false,false,false,false],"shape":1},{"id":80,"type":"segformer_b2_clothes","pos":[-151,1340],"size":{"0":315,"1":366},"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":154}],"outputs":[{"name":"mask_image","type":"IMAGE","links":[204],"shape":3,"slot_index":0},{"name":"open","type":"BOOLEAN","links":null,"shape":3}],"properties":{"Node name for S&R":"segformer_b2_clothes"},"widgets_values":[true,false,true,false,false,false,false,false,false,false,false,false,false],"shape":1},{"id":105,"type":"Image To Mask","pos":[370,1493],"size":{"0":315,"1":58},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":204,"slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[209],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["intensity"],"shape":1},{"id":102,"type":"Image To Mask","pos":[315,1081],"size":{"0":315,"1":58},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":194,"slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[195,198],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image To Mask"},"widgets_values":["intensity"],"shape":1},{"id":60,"type":"OpenposePreprocessor","pos":[498,730],"size":{"0":315,"1":150},"flags":{},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":104}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[105,216],"shape":3,"slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3}],"properties":{"Node name for S&R":"OpenposePreprocessor"},"widgets_values":["enable","enable","enable",512],"shape":1},{"id":111,"type":"Image Comparer (rgthree)","pos":{"0":1373,"1":399,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":122},"flags":{},"order":20,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":215,"dir":3},{"name":"image_b","type":"IMAGE","link":216,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[["/view?filename=rgthree.compare._temp_befmo_00001_.png&type=temp&subfolder=&rand=0.032321251070050794","/view?filename=rgthree.compare._temp_befmo_00002_.png&type=temp&subfolder=&rand=0.01635580378081891"]],"shape":1},{"id":112,"type":"Note","pos":[1635,1003],"size":{"0":333.6498718261719,"1":58},"flags":{},"order":2,"mode":0,"properties":{"text":""},"widgets_values":["Using the mask, stitch the body and the original image."],"color":"#432","bgcolor":"#653","shape":1},{"id":114,"type":"Note","pos":[167,117],"size":{"0":335.6890869140625,"1":75.31697082519531},"flags":{},"order":3,"mode":0,"properties":{"text":""},"widgets_values":["Negative Prompt Texture Inversion is optional "],"color":"#432","bgcolor":"#653","shape":1},{"id":110,"type":"Note","pos":[1605,419],"size":{"0":335.6890869140625,"1":75.31697082519531},"flags":{},"order":4,"mode":0,"properties":{"text":""},"widgets_values":["Generate the garments we need. Referency only and openpose are used to maintain features as much as possible."],"color":"#432","bgcolor":"#653","shape":1},{"id":113,"type":"Note","pos":[1434,1440],"size":{"0":351.3795471191406,"1":107.10371398925781},"flags":{},"order":5,"mode":0,"properties":{"text":""},"widgets_values":["To make this image more natural, use a low intensity repaint. \n\nAlso, to keep the face intact, add a mask that recognizes the face."],"color":"#432","bgcolor":"#653","shape":1},{"id":116,"type":"Note","pos":[198,1210],"size":{"0":351.3795471191406,"1":107.10371398925781},"flags":{},"order":6,"mode":0,"properties":{"text":""},"widgets_values":["Mask Generation, by segformer_b2_clothes"],"color":"#432","bgcolor":"#653","shape":1},{"id":61,"type":"Image Comparer (rgthree)","pos":{"0":2411,"1":-10,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":675.5350952148438,"1":985.2954711914062},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":176,"dir":3},{"name":"image_b","type":"IMAGE","link":153,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[["/view?filename=rgthree.compare._temp_hqzeg_00001_.png&type=temp&subfolder=&rand=0.9577944247791201","/view?filename=rgthree.compare._temp_hqzeg_00002_.png&type=temp&subfolder=&rand=0.1673010419065275"]],"shape":1},{"id":59,"type":"LoadImage","pos":[2031,-3],"size":{"0":305.5766296386719,"1":555.3410034179688},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[104,153,154,157,182,186,207],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["image_jjZSuko8_1701021290044_raw.webp","image"],"shape":1},{"id":96,"type":"DiffusersGenerator","pos":[921,314],"size":{"0":405.5999755859375,"1":418},"flags":{},"order":16,"mode":0,"inputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","link":179},{"name":"positive_prompt_embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","link":180},{"name":"negative_prompt_embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","link":181},{"name":"images","type":"IMAGE","link":182},{"name":"mask","type":"MASK","link":null},{"name":"controlnet_units","type":"CONTROLNET_UNIT","link":183},{"name":"reference_image","type":"IMAGE","link":207,"slot_index":6}],"outputs":[{"name":"images","type":"IMAGE","links":[187,215],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersGenerator"},"widgets_values":[1,30,7,799593844610,"randomize",1,512,512,1,"enable","disable"],"shape":1},{"id":44,"type":"DiffusersCompelPromptEmbedding","pos":[1151,40],"size":{"0":410,"1":200},"flags":{},"order":12,"mode":0,"inputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","link":58}],"outputs":[{"name":"positive prompt embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","links":[172,180],"shape":3,"slot_index":0},{"name":"negative prompt embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","links":[173,181],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"DiffusersCompelPromptEmbedding"},"widgets_values":["(masterpiece)1.2, (best quality)1.4, 1girl, beautiful,(blue dress)1.2","bad body, ugly, bad-picture-chill-75v, nsfw"],"shape":1},{"id":94,"type":"DiffusersGenerator","pos":[1421,1597],"size":{"0":405.5999755859375,"1":418},"flags":{},"order":25,"mode":0,"inputs":[{"name":"pipeline","type":"DIFFUSERS_PIPELINE","link":171},{"name":"positive_prompt_embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","link":172},{"name":"negative_prompt_embedding","type":"DIFFUSERS_PROMPT_EMBEDDING","link":173},{"name":"images","type":"IMAGE","link":203},{"name":"mask","type":"MASK","link":211},{"name":"controlnet_units","type":"CONTROLNET_UNIT","link":null},{"name":"reference_image","type":"IMAGE","link":null}],"outputs":[{"name":"images","type":"IMAGE","links":[176],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DiffusersGenerator"},"widgets_values":[0.64,30,7,628737898018,"randomize",1,512,512,0.5,"disable","disable"],"shape":1}],"links":[[58,43,0,44,0,"DIFFUSERS_PIPELINE"],[63,2,0,43,0,"DIFFUSERS_PIPELINE"],[101,57,0,58,0,"DIFFUSERS_CONTROLNET"],[104,59,0,60,0,"IMAGE"],[105,60,0,58,1,"IMAGE"],[153,59,0,61,1,"IMAGE"],[154,59,0,80,0,"IMAGE"],[157,59,0,83,0,"IMAGE"],[171,43,0,94,0,"DIFFUSERS_PIPELINE"],[172,44,0,94,1,"DIFFUSERS_PROMPT_EMBEDDING"],[173,44,1,94,2,"DIFFUSERS_PROMPT_EMBEDDING"],[176,94,0,61,0,"IMAGE"],[179,43,0,96,0,"DIFFUSERS_PIPELINE"],[180,44,0,96,1,"DIFFUSERS_PROMPT_EMBEDDING"],[181,44,1,96,2,"DIFFUSERS_PROMPT_EMBEDDING"],[182,59,0,96,3,"IMAGE"],[183,58,0,96,5,"CONTROLNET_UNIT"],[186,59,0,98,0,"IMAGE"],[187,96,0,98,1,"IMAGE"],[189,98,0,95,0,"IMAGE"],[191,101,0,98,2,"MASK"],[194,83,0,102,0,"IMAGE"],[195,102,0,86,0,"MASK"],[198,102,0,103,0,"MASK"],[200,103,0,101,0,"MASK"],[203,98,0,94,3,"IMAGE"],[204,80,0,105,0,"IMAGE"],[207,59,0,96,6,"IMAGE"],[209,105,0,108,0,"MASK"],[210,108,0,106,0,"MASK"],[211,108,0,94,4,"MASK"],[213,98,0,109,0,"IMAGE"],[215,96,0,111,0,"IMAGE"],[216,60,0,111,1,"IMAGE"]],"groups":[],"config":{},"extra":{},"version":0.4}
{"last_node_id":248,"last_link_id":436,"nodes":[{"id":172,"type":"UltimateSDUpscale","pos":[2264.007853187506,-492.1883720255472],"size":[349.74151611328125,802.0000610351562],"flags":{"pinned":true},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":433},{"name":"model","type":"MODEL","link":436},{"name":"positive","type":"CONDITIONING","link":430},{"name":"negative","type":"CONDITIONING","link":431},{"name":"vae","type":"VAE","link":432},{"name":"upscale_model","type":"UPSCALE_MODEL","link":250},{"name":"seed","type":"INT","link":435,"widget":{"name":"seed"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[413],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[1.5,1035366957235259,"randomize",15,5,"dpmpp_2m_sde","karras",0.25,"Chess",768,768,8,32,"None",1,64,8,16,"enable"],"color":"#223","bgcolor":"#335","locked":true},{"id":163,"type":"M-LSDPreprocessor","pos":[62.81377660962353,-204.10705077501896],"size":[315,106],"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":396}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[218,416],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"M-LSDPreprocessor"},"widgets_values":[0.1,0.1,768],"color":"#233","bgcolor":"#355","locked":true},{"id":41,"type":"PreviewImage","pos":[61.81377660962353,-37.10705077501918],"size":[385.8798828125,339.776611328125],"flags":{"pinned":false},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":218}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":165,"type":"MiDaS-DepthMapPreprocessor","pos":[473.8137766096235,-218.1070507750187],"size":[315,106],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":397}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[217,417],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MiDaS-DepthMapPreprocessor"},"widgets_values":[6.283185307179586,0.4,768],"color":"#233","bgcolor":"#355","locked":true},{"id":152,"type":"PreviewImage","pos":[471.8137766096235,-36.1070507750192],"size":[381.6484375,336.8136901855469],"flags":{"pinned":false},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":217}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":82,"type":"UpscaleModelLoader","pos":[1849.9572160156501,253.39322925092702],"size":[315,58],"flags":{"pinned":false},"order":0,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[250],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x4plus.pth"],"color":"#432","bgcolor":"#653","locked":true},{"id":89,"type":"StringFunction|pysssss","pos":[1461,467],"size":[400.4540710449219,224.61643981933594],"flags":{"pinned":false,"collapsed":true},"order":13,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":411,"widget":{"name":"text_a"},"slot_index":0},{"name":"text_b","type":"STRING","link":412,"widget":{"name":"text_b"}},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"}}],"outputs":[{"name":"STRING","type":"STRING","links":[422],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"StringFunction|pysssss"},"widgets_values":["append","yes","","",""],"color":"#232","bgcolor":"#353","locked":true},{"id":3,"type":"LoRA Stacker","pos":[1424,-55],"size":[315,130],"flags":{"pinned":false},"order":1,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[196],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LoRA Stacker"},"widgets_values":["simple",1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1],"color":"#222233","bgcolor":"#333355","shape":1,"locked":true},{"id":234,"type":"ConstrainImage|pysssss","pos":[1466,554],"size":[315,154],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":395}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[396,397],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"color":"#432","bgcolor":"#653","locked":true},{"id":116,"type":"LoadImage","pos":[290,460],"size":[728.9954223632812,689.428466796875],"flags":{"pinned":false},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[395],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Upload Your Room","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["u=494482593,560857459&fm=253&fmt=auto&app=138&f=PNG.webp","image"],"color":"#706b6b","bgcolor":"#5c5757","locked":true},{"id":239,"type":"CR Prompt Text","pos":[645,1204],"size":[357.7188720703125,111.46247100830078],"flags":{"collapsed":false},"order":3,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[421],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"Negative","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["embedding:quality\\EasyNegativeV2, embedding:quality\\FastNegativeV2, embedding:quality\\bad-picture-chill-75v, "],"locked":true},{"id":237,"type":"IPAdapterModelLoader","pos":[289,1230],"size":[315,58],"flags":{},"order":4,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[405],"shape":3}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.safetensors"],"locked":true},{"id":168,"type":"CLIPVisionLoader","pos":[-57,1227],"size":[265.35614013671875,58],"flags":{"pinned":false},"order":5,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[401],"shape":3}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["SD1.5\\model.safetensors"],"color":"#233","bgcolor":"#355","locked":true},{"id":170,"type":"LoadImage","pos":[1100,845],"size":[488.914306640625,466.27130126953125],"flags":{"pinned":false},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[399],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Reference Style","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["u=776085524,3989590781&fm=253&fmt=auto&app=138&f=JPEG.webp","image"],"color":"#aca4a4","bgcolor":"#989090","locked":true},{"id":20,"type":"CR Multi-ControlNet Stack","pos":[904.8137766096237,-195.107050775019],"size":[418.1999816894531,454],"flags":{"pinned":false},"order":18,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":416,"slot_index":0},{"name":"image_2","type":"IMAGE","link":417,"slot_index":1},{"name":"image_3","type":"IMAGE","link":null,"slot_index":2},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"slot_index":3}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[197],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","control_v11p_sd15_mlsd_fp16.safetensors",0.5,0,1,"On","control_v11f1p_sd15_depth_fp16.safetensors",0.85,0,0.5630000000000001,"Off","control_v11p_sd15_seg_fp16.safetensors",1,0,1],"color":"#432","bgcolor":"#653","locked":true},{"id":242,"type":"CR Prompt Text","pos":[1092,466],"size":[300.69573974609375,106.71062469482422],"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[411],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"Positive quality","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["best quality, masterpiece, 4k, highres, intricate detailed, hdr,interior"],"color":"#232","bgcolor":"#353","locked":true},{"id":247,"type":"Seed","pos":[1438,183],"size":[315,142],"flags":{},"order":8,"mode":0,"outputs":[{"name":"seed","type":"SEED","links":null,"shape":3,"slot_index":0},{"name":"number","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3},{"name":"float","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3},{"name":"int","type":"FLOAT,INT,NUMBER,STRING","links":[434,435],"shape":3,"slot_index":3}],"properties":{"Node name for S&R":"Seed"},"widgets_values":[265041427836487,"randomize"],"locked":true},{"id":161,"type":"Efficient Loader","pos":[1426.3143952575908,-494.46261385973037],"size":[370.2953845214845,330.4979913330079],"flags":{"pinned":false},"order":19,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":196},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":197},{"name":"empty_latent_width","type":"INT","link":414,"widget":{"name":"empty_latent_width"}},{"name":"empty_latent_height","type":"INT","link":415,"widget":{"name":"empty_latent_height"}},{"name":"positive","type":"STRING","link":422,"widget":{"name":"positive"}},{"name":"negative","type":"STRING","link":421,"widget":{"name":"negative"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[400,404,436],"shape":3,"slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[425],"shape":3,"slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[426],"shape":3,"slot_index":2},{"name":"LATENT","type":"LATENT","links":[427],"shape":3,"slot_index":3},{"name":"VAE","type":"VAE","links":[428],"shape":3,"slot_index":4},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"slot_index":5},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["写实摄影\\realisticVisionV51_v51VAE.safetensors","vae-ft-mse-840000-ema-pruned.safetensors",-1,"None",1,1,"Positive","Negative","none","comfy",512,512,1],"color":"#332233","bgcolor":"#553355","shape":1,"locked":true},{"id":246,"type":"KSampler (Efficient)","pos":[1846,-380],"size":[325,562],"flags":{},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":424},{"name":"positive","type":"CONDITIONING","link":425},{"name":"negative","type":"CONDITIONING","link":426},{"name":"latent_image","type":"LATENT","link":427},{"name":"optional_vae","type":"VAE","link":428},{"name":"script","type":"SCRIPT","link":null},{"name":"seed","type":"INT","link":434,"widget":{"name":"seed"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[430],"shape":3,"slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[431],"shape":3,"slot_index":2},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"slot_index":3},{"name":"VAE","type":"VAE","links":[432],"shape":3,"slot_index":4},{"name":"IMAGE","type":"IMAGE","links":[433],"shape":3,"slot_index":5}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[421903979146808,null,30,7,"dpmpp_2m_sde_gpu","karras",1,"auto","true"],"color":"#2a363b","bgcolor":"#3f5159","shape":1,"locked":true},{"id":173,"type":"CR Model Input Switch","pos":[-53,469],"size":[210,78],"flags":{"pinned":false},"order":21,"mode":0,"inputs":[{"name":"model1","type":"MODEL","link":404},{"name":"model2","type":"MODEL","link":403}],"outputs":[{"name":"MODEL","type":"MODEL","links":[424],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"1-none / 2-revision","properties":{"Node name for S&R":"CR Model Input Switch"},"widgets_values":[2],"color":"#8de6d8","bgcolor":"#79d2c4","locked":true},{"id":243,"type":"CR Prompt Text","pos":[1181,652],"size":[331.39886474609375,120.24908447265625],"flags":{},"order":9,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[412],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"Details","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["japaness style，tabloe,bed,sofa,"],"color":"#232","bgcolor":"#353","locked":true},{"id":244,"type":"SaveImage","pos":[1678,408],"size":[985.2802124023438,943.6327514648438],"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":413}],"properties":{},"widgets_values":["ComfyUI"],"locked":true},{"id":162,"type":"AspectRatioSelector","pos":[-53,656],"size":[262.2238464355469,98],"flags":{"pinned":false},"order":10,"mode":0,"outputs":[{"name":"ratio","type":"STRING","links":null,"shape":3},{"name":"width","type":"INT","links":[414],"shape":3,"slot_index":1},{"name":"height","type":"INT","links":[415],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"AspectRatioSelector"},"widgets_values":["4:3"],"color":"#222","bgcolor":"#000","locked":true},{"id":236,"type":"IPAdapterApply","pos":[-60,871],"size":[315,258],"flags":{},"order":20,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":405,"slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":401},{"name":"image","type":"IMAGE","link":399},{"name":"model","type":"MODEL","link":400},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[403],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.4,0.5,"original",0,1,false],"locked":true},{"id":248,"type":"Note","pos":[-303,-64],"size":[287.1228424072267,408.88175170898444],"flags":{},"order":11,"mode":0,"title":"Notice","properties":{"text":""},"widgets_values":["Product by CyberDickLang\n\n1. You need to upload your interior photos and a reference style picture, not necessarily a decoration picture, but a screenshot or concept of any style.需要上传你的室内照片和一张参考风格图片，不一定是装修图片可以是任何风格的截图或者概念\n\n2. Add your favorite furniture prompt words in the Details, and choose the picture ratio close to your photo.在Details里面添加你喜欢的家具提示词，选好和你照片接近的画面比例\n\n3. Sometimes it is necessary to adjust the weights of mlsd and depth to better generate accurate spatial structures and furniture.有些时候需要调整mlsd和depth的权重，以更好地生成准确的空间结构和家具\n\nHave fun!\n\nWelcome to my channel\nwww.youtube.com/@CyberDickLang\n\nB站/小红书 赛博迪克朗\nhttps://space.bilibili.com/339984\n\nOr you can find me from\nhttps://civitai.com/user/CyberDickLang\nhttps://openart.ai/@whmc76"],"color":"#a7f5e2","bgcolor":"#93e1ce"}],"links":[[196,3,0,161,0,"LORA_STACK"],[197,20,0,161,1,"CONTROL_NET_STACK"],[217,165,0,152,0,"IMAGE"],[218,163,0,41,0,"IMAGE"],[250,82,0,172,5,"UPSCALE_MODEL"],[395,116,0,234,0,"IMAGE"],[396,234,0,163,0,"IMAGE"],[397,234,0,165,0,"IMAGE"],[399,170,0,236,2,"IMAGE"],[400,161,0,236,3,"MODEL"],[401,168,0,236,1,"CLIP_VISION"],[403,236,0,173,1,"MODEL"],[404,161,0,173,0,"MODEL"],[405,237,0,236,0,"IPADAPTER"],[411,242,0,89,0,"STRING"],[412,243,0,89,1,"STRING"],[413,172,0,244,0,"IMAGE"],[414,162,1,161,2,"INT"],[415,162,2,161,3,"INT"],[416,163,0,20,0,"IMAGE"],[417,165,0,20,1,"IMAGE"],[421,239,0,161,5,"STRING"],[422,89,0,161,4,"STRING"],[424,173,0,246,0,"MODEL"],[425,161,1,246,1,"CONDITIONING"],[426,161,2,246,2,"CONDITIONING"],[427,161,3,246,3,"LATENT"],[428,161,4,246,4,"VAE"],[430,246,1,172,2,"CONDITIONING"],[431,246,2,172,3,"CONDITIONING"],[432,246,4,172,4,"VAE"],[433,246,5,172,0,"IMAGE"],[434,247,3,246,6,"INT"],[435,247,3,172,6,"INT"],[436,161,0,172,1,"MODEL"]],"groups":[{"title":"ControlNet","bounding":[29,-363,1337,710],"color":"#8AA","font_size":24,"locked":false},{"title":"Generate","bounding":[1390,-584,805,928],"color":"#88A","font_size":24,"locked":false},{"title":"Highres-fix","bounding":[2219,-580,441,928],"color":"#3f789e","font_size":24,"locked":false},{"title":"Parameters","bounding":[-92,374,1746,977],"color":"#8A8","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}